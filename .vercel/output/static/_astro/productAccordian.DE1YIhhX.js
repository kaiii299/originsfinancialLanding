import{j as e,c as w}from"./utils.JnRaa0S_.js";import{r as f}from"./index.DU5konRZ.js";import{u as C}from"./slugify.DF33FiIA.js";import{I as L}from"./input.B_C3ukmO.js";import{c as $}from"./index.CNA4GzUZ.js";import{C as g,a as j,b as p,c as v}from"./card.B_ZLmP9j.js";const P=$("inline-flex items-center rounded-md border mr-2 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-main text-primary-foreground shadow hover:bg-main/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function m({className:l,variant:i,...o}){return e.jsx("div",{className:w(P({variant:i}),l),...o})}const y=({text:l,href:i,arrow_hidden:o,text_color:c,className:x,deg:n})=>e.jsx("div",{className:"mt-auto cursor-pointer group",children:e.jsxs("a",{href:`${i}`,className:`${x} inline-flex group-hover:underline underline-offset-4 items-center text-md md:text-base group ${c||"text-dark"}`,children:[l,e.jsx("div",{className:`flex justify-center items-center bg-primary rounded-full w-5 h-5 ml-1 group-hover:translate-x-3  ${n?"group-hover:rotate-[90deg]":"group-hover:rotate-[0deg]"}  transition-transform duration-300 ${o?"hidden":"inline-flex"}`,children:e.jsx("svg",{className:"w-3 h-3",fill:"white",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),H=({productData:l})=>{const[i,o]=f.useState([]),[c,x]=f.useState({}),[n,N]=f.useState("");f.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("category"),t=s?C(s):null;let r=l;if(t&&t.toLowerCase()!=="all"&&(r=l.filter(a=>(a.fields.category||[]).some(d=>d.toLowerCase()===t.toLowerCase()))),n&&(r=r.filter(a=>a.fields.title.toLowerCase().includes(n.toLowerCase()))),t?.toLowerCase()==="all"){const a={},h=new Set;r.forEach(d=>{const u=(d.fields.category||["Uncategorized"])[0];a[u]||(a[u]=[]),h.has(d.sys.id)||(a[u].push(d),h.add(d.sys.id))}),x(a)}else x({});o(r)},[l,n]);const b=i.length===0;return e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"mb-6 mx-1",children:e.jsx(L,{type:"text",placeholder:"Search products...",value:n,onChange:s=>N(s.target.value),className:"w-full h-12 md:w-1/3"})}),b?e.jsx("div",{className:"text-center text-gray-600 text-xl font-semibold mt-10",children:"No products found. "}):Object.keys(c).length>0?Object.entries(c).map(([s,t])=>e.jsxs("div",{className:"my-10",children:[e.jsxs("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-800 mb-4",children:[s," "]}),e.jsx("div",{className:"flex flex-col gap-8",children:t.map(r=>e.jsx("a",{href:`product/${r.fields.slug}`,children:e.jsxs(g,{className:"group hover:shadow-md cursor-pointer duration-200 transition-all",children:[e.jsx(j,{children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"font-bold text-xl",children:[r.fields.title," "]})})}),e.jsx(p,{children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center ",children:[r.fields.category.map(a=>e.jsx(m,{variant:"default",children:a},a)),r.fields.type&&r.fields.type.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"|"})," ",r.fields.type.map(a=>e.jsx(m,{variant:"secondary",children:a},a))]})]}),e.jsxs("div",{className:"line-clamp-2",children:[r.fields.description," "]})]})}),e.jsx(v,{children:e.jsx(y,{text:"Learn more",href:`product/${r.fields.slug}`})})]})},r.sys.id))})]},s)):e.jsx("div",{className:"my-10 flex flex-col gap-8",children:i.map(s=>e.jsx("a",{href:`product/${s.fields.slug}`,children:e.jsxs(g,{className:"group hover:shadow-md cursor-pointer duration-200 transition-all",children:[e.jsx(j,{children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"font-bold text-xl",children:[s.fields.title," "]})})}),e.jsx(p,{children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center ",children:[s.fields.category.map(t=>e.jsx(m,{variant:"default",children:t},t)),s.fields.type&&s.fields.type.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"|"})," ",s.fields.type.map(t=>e.jsx(m,{variant:"secondary",children:t},t))]})]}),e.jsxs("div",{className:"line-clamp-2",children:[s.fields.description," "]})]})}),e.jsx(v,{children:e.jsx(y,{text:"Learn more",href:`product/${s.fields.slug}`})})]})},s.sys.id))})]})};export{H as default};
